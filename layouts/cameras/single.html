{{ define "main" }}
<article class="post-single camera-page">
  <header class="post-header camera-header">
    <h1 class="post-title">{{ .Title }}</h1>
    {{ with .Params.description }}<p class="post-description">{{ . }}</p>{{ end }}
  </header>

  <section class="post-content">
    <link rel="stylesheet" href="/css/camera-single.css">

    <div class="weather-widget">
      <!-- Code Weather Forecast rusmeteo.net  -->
      <a href="https://rusmeteo.net/weather/moskva/"
         class="widget-plain"
         id="317dbb0fc4c56e1ca38b4050292857dc"
         style="width:150px;height:100px;background-color:rgba(0, 0, 0, 0);color:rgb(54, 57, 69)">
        Погода в Москве
      </a>
      <script async
              src="https://rusmeteo.net/api/informerV2/317dbb0fc4c56e1ca38b4050292857dc/"
              type="text/javascript"></script>
      <!-- End Code Weather Forecast rusmeteo.net -->
    </div>

    <div class="camera-container"
         data-stream-url="{{ .Params.stream_url }}"
         data-title="{{ .Title }}">
      <div id="adblock-message"
           style="display:none; padding:20px; background-color:#ffcccc; border:1px solid #ff0000; border-radius:5px; margin-bottom:20px; text-align:center;">
        Пожалуйста, отключите блокировщик рекламы, чтобы просматривать трансляцию.
      </div>

      <div class="tab-pane">
        <video class="hls-player"
               data-hls="{{ .Params.stream_url }}"
               controls
               muted
               playsinline></video>
      </div>

      <div class="status">Подключение…</div>
    </div>
  </section>

  {{ if .Content }}
  <section class="post-content camera-bottom-text">
    {{ .Content }}
  </section>
  {{ end }}
</article>

<script src="/js/hls.min.js"></script>
<script src="/js/hls-init.js"></script>
{{ end }}
